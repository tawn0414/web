<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
<script type="text/javascript">
	// 재료에 마우스 클릭 시 선택상태
	// 드래그
	// 냉장고에서 마우스up일 때 냉장고에 재료 적용
	window.onload = function() {
		smallSort = document.getElementById("small_sort");
		childList = smallSort.childNodes;
		childList = removeBlank(childList);
		
		for (let index = 0; index < childList.length; index++) {
			const element = childList[index];
			element.ondragstart = drag;
			element.ondragover = allowDrop;
		}
		fridge = document.getElementById("refrigerator");
		fridge.ondragover = allowDrop;
		fridge.ondrop = drop;
	}
	function removeBlank(list) {
		for (let index = 0; index < list.length; index++) {
			if(list[index].nodeName == "#text") {
				list[index].remove();
			}
		}
		return list;
	}
	
	function allowDrop(ev) {
		ev.preventDefault();
	}
	function drag(ev) {
		ev.dataTransfer.setData("text", ev.target.id);
	}
	function drop(ev) {
		ev.preventDefault();
		var data = ev.dataTransfer.getData("text");
		ev.target.appendChild(document.getElementById(data));
	}

</script>
</head>
<body>
	<h1>냉장고 메인 페이지</h1>
	<div>	<!-- 냉장고 전체 div -->
		<div id="selectBox">
			<form name ="fidgeForm" method="POST" action="">
				<fieldset>
					<legend>테마 선택</legend>
					<ul id="big_sort">
						<li>
							<div class="" id="theme_1">주재료</div>
						</li>
						<li>
							<div class="" id="theme_2">부재료</div>
						</li>
						<li>
							<div class="" id="theme_3">양념</div>
						</li>
					</ul>
				</fieldset>
				<fieldset>
					<legend>재료 선택</legend>
					<ul id="small_sort">
						<li>
							<div class="" id="ingredient_1" draggable="true">
								<img src="../images/ingredients.jpg" width="100px">
								<p>계란</p>
							</div>
						</li>
						<li>
							<div class="" id="ingredient_2" draggable="true">
								<img src="../images/ingredients.jpg" width="100px">
								<p>쌀</p>
							</div>
						</li>
						<li>
							<div class="" id="ingredient_3" draggable="true">
								<img src="../images/ingredients.jpg" width="100px">
								<p>양상추</p>
							</div>
						</li>
						<li>
							<div class="" id="ingredient_4" draggable="true">
								<img src="../images/ingredients.jpg" width="100px">
								<p>소고기</p>
							</div>
						</li>
						<li>
							<div class="" id="ingredient_5" draggable="true">
								<img src="../images/ingredients.jpg" width="100px">
								<p>토마토</p>
							</div>
						</li>
					</ul>
				</fieldset>
			</form>
		</div>
		<div id="refrigerator" style="border: solid 1px; height: 300px;"> <!-- 냉장고 div로 배경이미지를 넣거나 border 속성으로 구분.. -->
			<ul id="fridge_list"> <!-- 동적으로 추가되어야 함 -->
					
			</ul>
		</div>
		<div id="basket_div"> <!-- 재료 장바구니 작은 상자 div -->
			<fieldset>
				<legend>장바구니</legend>
				<ul id="basket_ul">
					<li>
						<div class="" id="basket_1">
							<img src="../images/ingredients.jpg" width="100px">
							<p>계란</p>
						</div>
					</li>
					<li>
						<div class="" id="basket_2">
							<img src="../images/ingredients.jpg" width="100px">
							<p>쌀</p>
						</div>
					</li>
				</ul>
				<input type="button" value="장바구니에 추가">
			</fieldset>
		</div>
		<div id="recommend_div"> <!-- 레시피 추천 관련 작은 상자 div -->
			<fieldset>
				<legend>레시피 추천</legend>
				<ul id="recommend_box">
					<li>
						<div class="" id="recommend_1">
							<img src="../images/ingredients.jpg" width="100px">
							<p>계란</p>
						</div>
					</li>
					<li>
						<div class="" id="recommend_2">
							<img src="../images/ingredients.jpg" width="100px">
							<p>쌀</p>
						</div>
					</li>
				</ul>
				<input type="button" value="관련레시피 추천">
			</fieldset>
		</div>
	</div>
</body>
</html>